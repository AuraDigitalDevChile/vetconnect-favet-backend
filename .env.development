# Vetlify Backend - Development Environment
# Este archivo es para desarrollo LOCAL

# ==========================================
# BASE DE DATOS POSTGRESQL
# ==========================================
# Opción 1: Railway (Recomendado para desarrollo)
# Obtén la URL desde Railway Dashboard > Database > Connect
DATABASE_URL="postgresql://postgres:PASSWORD@RAILWAY_HOST:PORT/railway?sslmode=require"

# Opción 2: PostgreSQL Local (docker-compose)
# DATABASE_URL="postgresql://vetlify:vetlify_dev_2024@localhost:5432/vetlify_dev"

# Direct URL (para migraciones - mismo que DATABASE_URL en Railway)
DIRECT_URL="${DATABASE_URL}"

# ==========================================
# SERVIDOR
# ==========================================
NODE_ENV="development"
PORT="3001"
API_BASE_URL="http://localhost:3001"
FRONTEND_URL="http://localhost:5173"

# ==========================================
# AUTENTICACIÓN JWT
# ==========================================
JWT_SECRET="dev-secret-key-change-in-production-min-32-chars"
JWT_EXPIRES_IN="7d"
JWT_REFRESH_EXPIRES_IN="30d"

# ==========================================
# CORS
# ==========================================
CORS_ORIGIN="http://localhost:5173,http://localhost:3000"

# ==========================================
# INTEGRACIÓN SII (DEMO MODE)
# ==========================================
MODE="demo"
SII_ENVIRONMENT="certificacion"
SII_API_URL="https://palena.sii.cl"
SII_UPLOAD_ENDPOINT="https://palena.sii.cl/cgi_dte/UPL/DTEUpload"
SII_QUERY_ENDPOINT="https://palena.sii.cl/cgi_dte/UPL/DTEQueryStatus"

# Datos del emisor (DEMO - FAVET)
SII_RUT_EMPRESA="76123456-7"
SII_RAZON_SOCIAL="CLINICA VETERINARIA FAVET DEMO LTDA"
SII_GIRO="SERVICIOS VETERINARIOS"
SII_ACTIVIDAD_ECONOMICA="752000"
SII_DIRECCION="Av. Santa Rosa 11735, La Pintana"
SII_COMUNA="La Pintana"
SII_CIUDAD="Santiago"

# Certificado (demo - deshabilitado por ahora)
SII_CERT_PATH=""
SII_CERT_PASSWORD=""
SII_RESOLUCION_NUMERO="0"
SII_RESOLUCION_FECHA="2014-08-22"

# ==========================================
# NOTIFICACIONES - EMAIL (DEMO)
# ==========================================
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_SECURE="false"
SMTP_USER="dev@vetlify.local"
SMTP_PASSWORD="demo-password"
EMAIL_FROM="Vetlify Dev <dev@vetlify.local>"

# ==========================================
# NOTIFICACIONES - WHATSAPP (DESHABILITADO EN DEV)
# ==========================================
WHATSAPP_API_URL=""
WHATSAPP_API_KEY=""
WHATSAPP_PHONE_NUMBER_ID=""

# ==========================================
# ALMACENAMIENTO DE ARCHIVOS (LOCAL EN DEV)
# ==========================================
STORAGE_TYPE="local"
UPLOAD_DIR="./uploads"
MAX_FILE_SIZE_MB="10"
ALLOWED_FILE_TYPES="image/jpeg,image/png,image/jpg,application/pdf,video/mp4"

# AWS S3 / Cloudflare R2 (para testing, dejar vacío)
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_REGION="us-east-1"
AWS_S3_BUCKET=""

# ==========================================
# REDIS (OPCIONAL - para caché)
# ==========================================
REDIS_URL="redis://localhost:6379"
REDIS_ENABLED="false"

# ==========================================
# LOGS
# ==========================================
LOG_LEVEL="debug"
LOG_FILE="./logs/app.log"

# ==========================================
# RATE LIMITING
# ==========================================
RATE_LIMIT_REQUESTS="100"
RATE_LIMIT_WINDOW_MS="60000"

# ==========================================
# FEATURES FLAGS
# ==========================================
ENABLE_TELEMEDICINE="true"
ENABLE_ONLINE_BOOKING="true"
ENABLE_WHATSAPP_NOTIFICATIONS="false"
ENABLE_EMAIL_NOTIFICATIONS="false"
ENABLE_SII_INTEGRATION="false"
ENABLE_SWAGGER="true"

# ==========================================
# CENTROS FAVET
# ==========================================
TOTAL_CENTROS="3"
CENTRO_LA_PINTANA_ID="1"
CENTRO_ONCOLOGIA_ID="2"
CENTRO_ESPECIALIDADES_ID="3"

# ==========================================
# PDF GENERATION
# ==========================================
PDF_GENERATOR="puppeteer"
PDF_OUTPUT_DIR="./pdfs"

# ==========================================
# TESTING
# ==========================================
TEST_DATABASE_URL="postgresql://vetlify:vetlify_test@localhost:5432/vetlify_test"
